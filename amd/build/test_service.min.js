define("metadataextractor_tika/test_service",["exports","jquery","core/ajax","core/loadingicon","core/notification","core/templates"],(function(_exports,_jquery,Ajax,LoadingIcon,Notification,Templates){var obj;
/**
   * Test service call.
   * @module     metadataextractor_tika/test_service
   * @copyright  2023 Rossco Hellmans <rosscohellmans@catalyst-au.net>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj},Ajax=_interopRequireWildcard(Ajax),LoadingIcon=_interopRequireWildcard(LoadingIcon),Notification=_interopRequireWildcard(Notification),Templates=_interopRequireWildcard(Templates);const testService=(container,serviceName)=>{var isServiceReadyPromise=Ajax.call([{methodname:"metadataextractor_tika_is_service_ready",args:{}}])[0];LoadingIcon.addIconToContainer(container,isServiceReadyPromise),isServiceReadyPromise.then((function(ready){return Templates.render("metadataextractor_tika/service_status",{ready:ready.ready,servicename:serviceName}).then((function(html,js){return Templates.replaceNodeContents(container,html,js)})).catch(Notification.exception),isServiceReadyPromise})).catch(Notification.exception)};_exports.init=(containerId,buttonId,serviceName)=>{var button=(0,_jquery.default)("#"+buttonId),container=(0,_jquery.default)("#"+containerId);button.on("click",(function(event){event.preventDefault(),testService(container,serviceName)}))}}));

//# sourceMappingURL=test_service.min.js.map